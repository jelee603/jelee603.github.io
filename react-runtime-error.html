<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="viewport-fit=cover"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/6eca03e35c9c9eae.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6eca03e35c9c9eae.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-d38be8d96a62f950.js" defer=""></script><script src="/_next/static/chunks/framework-63157d71ad419e09.js" defer=""></script><script src="/_next/static/chunks/main-63b5e73f15fce3bf.js" defer=""></script><script src="/_next/static/chunks/pages/_app-220f73948b70f663.js" defer=""></script><script src="/_next/static/chunks/23-1e1b6cd9f6a2e676.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-7d709a5d09fee3dd.js" defer=""></script><script src="/_next/static/XabKDqyn7GZ-CmiiEg_37/_buildManifest.js" defer=""></script><script src="/_next/static/XabKDqyn7GZ-CmiiEg_37/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="sc-45b68ef7-0 ieAueO"><nav class="sc-45b68ef7-1 cDSFRs"><div class="sc-45b68ef7-2 iKGhce"><a href="/">Home</a></div><div class="sc-45b68ef7-2 iKGhce"><a href="/React/react-condition">React</a></div><div class="sc-45b68ef7-2 iKGhce"><a href="/Vue/vuejs">Vue</a></div><div class="sc-45b68ef7-2 iKGhce"><a href="/JavaScript/es6">JavaScript</a></div><div class="sc-45b68ef7-2 iKGhce"><a href="/TypeScript/typescript">TypeScript</a></div><div class="sc-45b68ef7-2 iKGhce"><a href="/HTML_CSS/browser-operation">HTML/CSS</a></div><div class="sc-45b68ef7-2 iKGhce"><a href="/ToyProject">Toy Project</a></div><a href="/profile"><div class="sc-45b68ef7-3 TXhNy"></div></a></nav></header><section class="sc-53569208-0 qXGRu"><h1 class="sc-53569208-1 kqSQaB">JS 런타임 오류 (React)</h1><h6>2021-12-28 14:57:17</h6><article class="sc-53569208-2 lhbsva"><p>오랜만에 React (v17.0.2) 최신버전으로 설치하고, <code>npm start</code> 를 실행했는데 아래와 같은 버그를 만났습니다.</p>
<blockquote>
<p>Bug: Error [ERR_REQUIRE_ESM]: Must use import to load ES Module: @eslint\eslintrc\universal.js</p>
</blockquote>
<p>먼저 어떤 버전의 문제인지, React 와 Eslint 에서 권장하는 버전을 확인하러 가봅니다.</p>
<ol>
<li>공식 홈페이지 권장사항
https://reactjs.org/docs/create-a-new-react-app.html</li>
</ol>
<pre><code>Node >= 14.0.0
npm >= 5.6
</code></pre>
<ol start="2">
<li>eslint v8 일 때, nodejs 버전을 업그레이드 해주라고 하네요.<br>
https://github.com/eslint/eslint/issues/15247</li>
</ol>
<pre><code>Node  ^12.22.0 || ^14.17.0 || >=16.0.0
</code></pre>
<p>2가지 버전을 확인해보니, Node 버전이 최소 14 이상은 되어야 안정적일 거 같아 보이네요.
설치된 런타임 버전을 확인해봅니다.</p>
<pre><code>node -v // v12.22
npm -v // v6.14.15
</code></pre>
<p>예전에 작업하면서 노드 버전을 v12.22 로 사용하고 있었네요. v14.18 로 NVM을 변경해줍니다.</p>
<p>스위칭 후에 OSX 터미널에서 실행하면 정상적으로 동작합니다. 이제 VSCode 터미널에서 실행해봅니다.
여전히 오류가 발생합니다. </p>
<p>한참을 찾아보다가 좋은 <a href="https://stackoverflow.com/questions/44700432/visual-studio-code-to-use-node-version-specified-by-nvm">해결 방법</a>을 발견했습니다.
NVM을 이용해서 전역 버전을 변경하더라도 모든 동일하게 반영이 되지 않네요. </p>
<p>항상 사용하는 버전을 NVM Default 로 맞춰두고, <code>nvm use default</code> 로 사용을 해야할 거 같습니다.
VSCode 에서는 <a href="https://code.visualstudio.com/docs/editor/debugging#_run-view">launch.json 파일</a>에 <code>runtimeVersion: default</code>로 추가해두면 항상 default 값을 사용할 수 있습니다.</p>
<pre><code>// OS X Terminal
nvm alias default 14.18.1

// VSCode Terminal
nvm use default
</code></pre>
</article></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"JS 런타임 오류 (React)","slug":"react-runtime-error","date":"2021-12-28 14:57:17","content":"\u003cp\u003e오랜만에 React (v17.0.2) 최신버전으로 설치하고, \u003ccode\u003enpm start\u003c/code\u003e 를 실행했는데 아래와 같은 버그를 만났습니다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eBug: Error [ERR_REQUIRE_ESM]: Must use import to load ES Module: @eslint\\eslintrc\\universal.js\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e먼저 어떤 버전의 문제인지, React 와 Eslint 에서 권장하는 버전을 확인하러 가봅니다.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e공식 홈페이지 권장사항\nhttps://reactjs.org/docs/create-a-new-react-app.html\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003eNode \u003e= 14.0.0\nnpm \u003e= 5.6\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eeslint v8 일 때, nodejs 버전을 업그레이드 해주라고 하네요.\u003cbr\u003e\nhttps://github.com/eslint/eslint/issues/15247\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003eNode  ^12.22.0 || ^14.17.0 || \u003e=16.0.0\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e2가지 버전을 확인해보니, Node 버전이 최소 14 이상은 되어야 안정적일 거 같아 보이네요.\n설치된 런타임 버전을 확인해봅니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003enode -v // v12.22\nnpm -v // v6.14.15\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e예전에 작업하면서 노드 버전을 v12.22 로 사용하고 있었네요. v14.18 로 NVM을 변경해줍니다.\u003c/p\u003e\n\u003cp\u003e스위칭 후에 OSX 터미널에서 실행하면 정상적으로 동작합니다. 이제 VSCode 터미널에서 실행해봅니다.\n여전히 오류가 발생합니다. \u003c/p\u003e\n\u003cp\u003e한참을 찾아보다가 좋은 \u003ca href=\"https://stackoverflow.com/questions/44700432/visual-studio-code-to-use-node-version-specified-by-nvm\"\u003e해결 방법\u003c/a\u003e을 발견했습니다.\nNVM을 이용해서 전역 버전을 변경하더라도 모든 동일하게 반영이 되지 않네요. \u003c/p\u003e\n\u003cp\u003e항상 사용하는 버전을 NVM Default 로 맞춰두고, \u003ccode\u003envm use default\u003c/code\u003e 로 사용을 해야할 거 같습니다.\nVSCode 에서는 \u003ca href=\"https://code.visualstudio.com/docs/editor/debugging#_run-view\"\u003elaunch.json 파일\u003c/a\u003e에 \u003ccode\u003eruntimeVersion: default\u003c/code\u003e로 추가해두면 항상 default 값을 사용할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// OS X Terminal\nnvm alias default 14.18.1\n\n// VSCode Terminal\nnvm use default\n\u003c/code\u003e\u003c/pre\u003e\n","category":"React"}},"__N_SSG":true},"page":"/[slug]","query":{"slug":"react-runtime-error"},"buildId":"XabKDqyn7GZ-CmiiEg_37","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>