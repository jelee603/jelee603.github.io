{"pageProps":{"post":{"title":"JS 런타임 오류 (React)","slug":"react-runtime-error","date":"2021-12-28 14:57:17","content":"<p>오랜만에 React (v17.0.2) 최신버전으로 설치하고, <code>npm start</code> 를 실행했는데 아래와 같은 버그를 만났습니다.</p>\n<blockquote>\n<p>Bug: Error [ERR_REQUIRE_ESM]: Must use import to load ES Module: @eslint\\eslintrc\\universal.js</p>\n</blockquote>\n<p>먼저 어떤 버전의 문제인지, React 와 Eslint 에서 권장하는 버전을 확인하러 가봅니다.</p>\n<ol>\n<li>공식 홈페이지 권장사항\nhttps://reactjs.org/docs/create-a-new-react-app.html</li>\n</ol>\n<pre><code>Node >= 14.0.0\nnpm >= 5.6\n</code></pre>\n<ol start=\"2\">\n<li>eslint v8 일 때, nodejs 버전을 업그레이드 해주라고 하네요.<br>\nhttps://github.com/eslint/eslint/issues/15247</li>\n</ol>\n<pre><code>Node  ^12.22.0 || ^14.17.0 || >=16.0.0\n</code></pre>\n<p>2가지 버전을 확인해보니, Node 버전이 최소 14 이상은 되어야 안정적일 거 같아 보이네요.\n설치된 런타임 버전을 확인해봅니다.</p>\n<pre><code>node -v // v12.22\nnpm -v // v6.14.15\n</code></pre>\n<p>예전에 작업하면서 노드 버전을 v12.22 로 사용하고 있었네요. v14.18 로 NVM을 변경해줍니다.</p>\n<p>스위칭 후에 OSX 터미널에서 실행하면 정상적으로 동작합니다. 이제 VSCode 터미널에서 실행해봅니다.\n여전히 오류가 발생합니다. </p>\n<p>한참을 찾아보다가 좋은 <a href=\"https://stackoverflow.com/questions/44700432/visual-studio-code-to-use-node-version-specified-by-nvm\">해결 방법</a>을 발견했습니다.\nNVM을 이용해서 전역 버전을 변경하더라도 모든 동일하게 반영이 되지 않네요. </p>\n<p>항상 사용하는 버전을 NVM Default 로 맞춰두고, <code>nvm use default</code> 로 사용을 해야할 거 같습니다.\nVSCode 에서는 <a href=\"https://code.visualstudio.com/docs/editor/debugging#_run-view\">launch.json 파일</a>에 <code>runtimeVersion: default</code>로 추가해두면 항상 default 값을 사용할 수 있습니다.</p>\n<pre><code>// OS X Terminal\nnvm alias default 14.18.1\n\n// VSCode Terminal\nnvm use default\n</code></pre>\n","category":"React"}},"__N_SSG":true}